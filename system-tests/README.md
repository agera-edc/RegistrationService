## System tests

These tests deploy the application in a docker environment, and use the generated client to interact with it.

### Running test locally

Build the application launcher:

```
./gradlew :launcher:shadowJar
```

Run the application using Docker compose:

```
docker-compose up --build
```

Run tests:
```
INTEGRATION_TEST=true ./gradlew :system-tests:test
```


The `publicKeyJwk` section of `src/test/resources/test-client/did.json` was generated by running:
```
docker run -i danedmunds/pem-to-jwk:1.2.1 --public --pretty < rest-client/src/testFixtures/resources/private_p256.pem > key.public.jwk```